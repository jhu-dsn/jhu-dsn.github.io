<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="clear">

<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="#results" class="toc">Results</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#graphs" class="toc">Graphs</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="#howto" class="toc">Howto</a></span></div></li></ul>
</li></ul>
</div>
</div>



<h2><a name="results" id="results">Results</a></h2>
<div class="level2">

<p>
 These graphs compare the SpamAssassin score generated by local_scan (&rsquo;local score&rsquo;) and the one recovered from Yair marked and un-marked spam inbox files (&rsquo;real score&rsquo;). The plot is from February 28 until April 18. The first two graphs show the absolute value for both scores, while the last two plot the difference between the two values. We can see how the scores of <em>unmarked</em> messages become more close after March 26 (around email 900), when we switched from global to user-based SpamAssassin score. Later on, we introduced a another modification in local_scan script, to specify exactly what username should be used for each address (as opposed to extracting it automatically from the recipient). 
</p>

</div>
<!-- SECTION "Results" [1-728] -->
<h2><a name="graphs" id="graphs">Graphs</a></h2>
<div class="level2">

<p>
 <a href="/courses/cs667-2007/spamproject/lib/exe/detail.php?id=sa_score_comparison&amp;cache=cache&amp;media=score.comparison.unmarked.8.png" class="media" title="score.comparison.unmarked.8.png"><img src="/courses/cs667-2007/spamproject/lib/exe/fetch.php?w=450&amp;h=&amp;cache=cache&amp;media=score.comparison.unmarked.8.png" class="media" title="Unmarked" alt="Unmarked" width="450" /></a><a href="/courses/cs667-2007/spamproject/lib/exe/detail.php?id=sa_score_comparison&amp;cache=cache&amp;media=score.comparison.marked.8.png" class="media" title="score.comparison.marked.8.png"><img src="/courses/cs667-2007/spamproject/lib/exe/fetch.php?w=450&amp;h=&amp;cache=cache&amp;media=score.comparison.marked.8.png" class="media" title="Marked" alt="Marked" width="450" /></a> <a href="/courses/cs667-2007/spamproject/lib/exe/detail.php?id=sa_score_comparison&amp;cache=cache&amp;media=score.comparison.diff.unmarked.8.png" class="media" title="score.comparison.diff.unmarked.8.png"><img src="/courses/cs667-2007/spamproject/lib/exe/fetch.php?w=450&amp;h=&amp;cache=cache&amp;media=score.comparison.diff.unmarked.8.png" class="media" title="Unmarked difference" alt="Unmarked difference" width="450" /></a><a href="/courses/cs667-2007/spamproject/lib/exe/detail.php?id=sa_score_comparison&amp;cache=cache&amp;media=score.comparison.diff.marked.8.png" class="media" title="score.comparison.diff.marked.8.png"><img src="/courses/cs667-2007/spamproject/lib/exe/fetch.php?w=450&amp;h=&amp;cache=cache&amp;media=score.comparison.diff.marked.8.png" class="media" title="Unmarked difference" alt="Unmarked difference" width="450" /></a>
</p>

</div>
<!-- SECTION "Graphs" [729-969] -->
<h2><a name="howto" id="howto">Howto</a></h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Generate new smtp_path file</div>
</li>
</ul>
<pre class="code">
[ralucam@commedia trunk]$ time ./smtp_path.py /storage/projects/spamproject/snapshot.8/messages.log &gt; smtp_path.8
real    5m9.276s
user    4m54.044s
sys     0m7.292s
</pre>
<ul>
<li class="level1"><div class="li"> Generate data for unmarked file:</div>
</li>
</ul>
<pre class="code">
[ralucam@cloud10 trunk]$ time ./score_comparison.py yair_spam_unmarked local.log &gt; score_comparison.unmarked.data.8
real    0m21.401s
user    0m18.953s
sys     0m0.234s
</pre>
<ul>
<li class="level1"><div class="li"> Generate data for marked file:</div>
</li>
</ul>
<pre class="code">
[ralucam@cloud10 trunk]$ time ./score_comparison.py yair_spam_marked local.log &gt; score_comparison.marked.data.8
real    1m27.049s
user    1m26.382s
sys     0m0.450s
</pre>
<ul>
<li class="level1"><div class="li"> Each file is this long:</div>
</li>
</ul>
<pre class="code">
[ralucam@cloud10 trunk]$ cat score_comparison.unmarked.data.8 | wc -l
1660
[ralucam@cloud10 trunk]$ cat score_comparison.marked.data.8 | wc -l
16765
</pre>
<ul>
<li class="level1"><div class="li"> Generate the graphs:</div>
</li>
</ul>
<pre class="code">
gnuplot score_comparison.gnuplot
</pre>

</div>
<!-- SECTION "Howto" [970-] -->